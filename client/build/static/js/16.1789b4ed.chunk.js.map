{"version":3,"sources":["pages/signIn/signIn.module.css","pages/signIn/signIn.js","image/sectionLoader.gif","card/notificationCard.js","card/notificationCard.module.css"],"names":["module","exports","SignIn","props","navigate","useNavigate","useState","email","setEmail","password","setPassword","emailVerify","verifyCredentials","errMsg","setErrMsg","loggedin","setLoggedin","loader","setLoader","useEffect","document","title","window","scrollTo","dispatch","useDispatch","event","a","preventDefault","mailformat","match","fetch","method","headers","body","JSON","stringify","res","json","data","ok","loginActions","login","_id","name","mobile","gender","isAdmin","token","setTimeout","location","reload","replace","className","classes","loginForm","onSubmit","head","headSpan","details","type","placeholder","required","textBox","onBlur","target","value","formLabel","errmsg","maxlength","failLogIn","onClick","contd","agree","bond","src","preloader","load","alt","NotificationCard","notificationHolder","layout","msg"],"mappings":"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","file":"static/js/16.1789b4ed.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"agree\":\"signIn_agree__3j1Ug\",\"bond\":\"signIn_bond__ac20X\",\"contd\":\"signIn_contd__2W7sT\",\"details\":\"signIn_details__Y_bvv\",\"errmsg\":\"signIn_errmsg__2IltU\",\"failLogIn\":\"signIn_failLogIn__3dHfZ\",\"formLabel\":\"signIn_formLabel__27zRZ\",\"head\":\"signIn_head__2yyO5\",\"headSpan\":\"signIn_headSpan__3hW7V\",\"load\":\"signIn_load__2PtC3\",\"login\":\"signIn_login__7x-m-\",\"textBox\":\"signIn_textBox__TQ4Qu\",\"cntryCode\":\"signIn_cntryCode__1DGWY\",\"loginForm\":\"signIn_loginForm__1_UdE\"};","import React, { useState, useEffect } from 'react';\n\nimport { useNavigate } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { loginActions } from '../../store/loginStore';\n\nimport NotificationCard from '../../card/notificationCard';\nimport preloader from '../../image/sectionLoader.gif';\nimport classes from './signIn.module.css';\n\nfunction SignIn(props){\n    let navigate = useNavigate();\n\n    const [email, setEmail] = useState(\" \");\n    const [password, setPassword] = useState(\" \");\n    const [errMsg, setErrMsg] = useState({ emailVerify: \"ok\", verifyCredentials: \"ok\" });\n    const [loggedin, setLoggedin] = useState(false);\n    const [loader, setLoader] = useState(false);\n\n    useEffect(() => {\n        document.title = 'Online Shopping site for shoes in India | Friction';\n        window.scrollTo(0, 0);\n    });\n\n    function emailHandler(event){\n        setEmail(event.target.value);    \n    }\n\n    function passwordHandler(event){\n        setPassword(event.target.value);    \n    }\n\n    const dispatch = useDispatch();\n\n    async function loginHandler(event){\n        event.preventDefault();\n        setLoader(true);\n        const mailformat = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\n        if(email.match(mailformat) === false){\n            setErrMsg({ ...errMsg, emailVerify: \"ok\"});\n            return;\n        }\n        setErrMsg({ ...errMsg, emailVerify: \"ok\"});\n\n        const res = await fetch(\"/api/user/login\", {\n            method: \"POST\",\n            headers:{\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({ email, password })\n        });\n\n        const data = await res.json();\n        setLoader(false);\n\n        if(!res.ok || !data){\n            setErrMsg({ ...errMsg, verifyCredentials: \"Incorrect Email or Password\"});\n        }\n        else{\n            \n            dispatch(loginActions.login({\n                _id: data._id,\n                name: data.name,\n                mobile: data.mobile,\n                email: data.email,\n                gender: data.gender,\n                isAdmin: data.isAdmin,\n                token: data.token\n            }));\n\n            setErrMsg({ ...errMsg, verifyCredentials: \"ok\"});\n            setLoggedin(true);\n            setTimeout(function(){ setLoggedin(false);\n                window.location.reload(true);}, 3000);\n            setTimeout(function(){ \n                navigate(`/`, { replace: true });\n            }, 4000);\n        }\n        \n    }\n\n    return(\n        <div className={classes.login}>\n            <form method='POST' className={classes.loginForm} onSubmit = {loginHandler}>\n                <p className={classes.head}><span  className={classes.headSpan}>Login</span> or <span  className={classes.headSpan}>Signup</span></p>\n                <div className={classes.details}>\n                    <input \n                        type= \"text\" \n                        placeholder=' ' \n                        required \n                        className={classes.textBox}\n                        onBlur = {emailHandler}>\n                    </input>\n                    <label className={classes.formLabel}>\n                       Email*\n                    </label>\n                    {errMsg.emailVerify !== \"ok\" && <p className={classes.errmsg}>{errMsg.emailVerify}</p>}\n                </div>\n                <div className={classes.details}>\n                    <input \n                        type= \"password\" \n                        placeholder=' ' \n                        maxlength=\"16\"\n                        required \n                        className={classes.textBox}\n                        onBlur = {passwordHandler}>\n                    </input>\n                    <label className={classes.formLabel}>\n                       Password*\n                    </label>\n                </div>\n\n                {errMsg.verifyCredentials !== \"ok\" && <p className={classes.errmsg}>{errMsg.verifyCredentials}</p>}\n                <p className={classes.failLogIn} onClick = {() => navigate(`/set-password`)}>Forgot Password?</p>\n                <button type = \"submit\" value=\"Submit\" className={classes.contd}>CONTINUE</button>\n                <p className={classes.agree}> By continuing, I agree to the <span className={classes.bond}>Terms of Use</span> and&nbsp;\n                <span className={classes.bond}>Privacy Policy</span></p>\n                <p className={classes.failLogIn} onClick = {() => navigate(`/register`)}>New to Friction? Create an account</p>\n            </form>\n            {loggedin && <NotificationCard value = {\"Logged in Successfully\"} />}\n            {loader && <img src = {preloader} className={classes.load} alt = \"Loading...\"></img>}\n        </div>\n    );\n}\n\nexport default SignIn;","export default __webpack_public_path__ + \"static/media/sectionLoader.f418ba14.gif\";","import React from 'react';\n\nimport classes from './notificationCard.module.css';\n\nfunction NotificationCard(props){\n\n    return(\n        <div className={classes.notificationHolder}>\n        <div className={classes.layout}>\n            <p className={classes.msg}>{props.value}</p>\n        </div>  \n        </div>\n    );\n}\n\nexport default NotificationCard","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout\":\"notificationCard_layout__1CJR0\",\"notificationHolder\":\"notificationCard_notificationHolder__3kfqx\"};"],"sourceRoot":""}