(this.webpackJsonpreact_sample_1=this.webpackJsonpreact_sample_1||[]).push([[8],{125:function(e,t,a){e.exports={details:"addressForm_details__15TjD",errmsg:"addressForm_errmsg__exKtg",fixed:"addressForm_fixed__2zZmG",formLabel:"addressForm_formLabel__trSNo",head:"addressForm_head__p5TK9",save:"addressForm_save__31qOl",textBox:"addressForm_textBox__C1POx",con:"addressForm_con__38PtX"}},126:function(e,t,a){e.exports={address:"address_address__2Kn6j",form:"address_form__2WAjv",savedAdd:"address_savedAdd__2eApN"}},127:function(e,t,a){e.exports={address:"addressSavedCard_address__2pSs4",head:"addressSavedCard_head__1XxDZ",layout:"addressSavedCard_layout__3yi-5"}},149:function(e,t,a){"use strict";a.r(t);var s=a(19),c=a.n(s),n=a(23),r=a(4),i=a(1),l=a(12),d=a(3),o=a(78),j=a(88),u=a(30),b=a(40),m=a(125),O=a.n(m),h=a(0);var p=function(e){var t=Object(l.c)((function(e){return e.login.userData})),a=Object(l.b)(),s=Object(d.g)(),o=Object(i.useState)(" "),j=Object(r.a)(o,2),m=j[0],p=j[1],x=Object(i.useState)(" "),f=Object(r.a)(x,2),v=f[0],_=f[1],N=Object(i.useState)(" "),y=Object(r.a)(N,2),S=y[0],g=y[1],k=Object(i.useState)(" "),C=Object(r.a)(k,2),D=C[0],B=C[1],T=Object(i.useState)(" "),A=Object(r.a)(T,2),w=A[0],E=A[1],L=Object(i.useState)(" "),P=Object(r.a)(L,2),F=P[0],M=P[1],R=Object(i.useState)(" "),q=Object(r.a)(R,2),I=q[0],J=q[1],K=Object(i.useState)(" "),Q=Object(r.a)(K,2),G=Q[0],H=Q[1],X=Object(i.useState)({mobNo:"ok",pinCode:"ok"}),W=Object(r.a)(X,2),Y=W[0],Z=W[1],z=Object(i.useState)([]),U=Object(r.a)(z,2),$=U[0],V=U[1];function ee(){return(ee=Object(n.a)(c.a.mark((function e(t,a){var s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/user/history-create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,address:a})});case 2:return s=e.sent,e.next=5,s.json();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(){return(te=Object(n.a)(c.a.mark((function e(t){var a,s,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==(a=t.target.value)){e.next=4;break}return Z(Object(u.a)(Object(u.a)({},Y),{},{pinCode:"This is a mandatory field"})),e.abrupt("return");case 4:return g(a),e.prev=5,e.next=8,fetch("/api/user/getPinData/".concat(a),{method:"GET",headers:{"Content-Type":"application/json"}});case 8:return n=e.sent,e.next=11,n.json();case 11:s=e.sent,e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(5),console.log(e.t0),e.abrupt("return");case 18:if("Error"!==s.Status&&null!==s.PostOffice){e.next=21;break}return Z(Object(u.a)(Object(u.a)({},Y),{},{pinCode:"Invalid pincode"})),e.abrupt("return");case 21:Z(Object(u.a)(Object(u.a)({},Y),{},{pinCode:"ok"})),J(s.PostOffice[0].Taluk),H(s.PostOffice[0].State);case 24:case"end":return e.stop()}}),e,null,[[5,14]])})))).apply(this,arguments)}return Object(i.useEffect)((function(){function e(){return(e=Object(n.a)(c.a.mark((function e(t){var a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/user/history-get",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})});case 2:return a=e.sent,e.next=5,a.json();case 5:s=e.sent,a.ok&&s.address&&V(s.address);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(t){e.apply(this,arguments)}(t.email)}),[t.email]),Object(h.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),"ok"===Y.mobNo&&"ok"===Y.pinCode){var c=$.slice(),n="a"+c.length;c.push({_id:n,name:m,mobile:v,house:D,town:w,landmark:F,city:I,state:G,pin:S}),function(e,t){ee.apply(this,arguments)}(t.email,c),a(b.a.addAddress({name:m,mobile:v,house:D,town:w,landmark:F,city:I,state:G,pin:S})),s("/payment",{replace:!0})}},children:[Object(h.jsxs)("div",{className:O.a.con,children:[Object(h.jsx)("p",{className:O.a.head,children:"CONTACT DETAILS"}),Object(h.jsxs)("div",{className:O.a.details,children:[Object(h.jsx)("input",{type:"text",placeholder:" ",required:!0,className:O.a.textBox,onBlur:function(e){p(e.target.value)}}),Object(h.jsx)("label",{className:O.a.formLabel,children:"Name*"})]}),Object(h.jsxs)("div",{className:O.a.details,children:[Object(h.jsx)("input",{type:"text",placeholder:" ",maxlength:"10",required:!0,className:O.a.textBox,onBlur:function(e){var t=e.target.value;""!==t?(_(t),t.length<10?Z(Object(u.a)(Object(u.a)({},Y),{},{mobNo:"Minimum length is 10"})):!1===/^\d+$/.test(t)||t.charAt(0)<6?Z(Object(u.a)(Object(u.a)({},Y),{},{mobNo:"Please enter a valid 10 digit mobile number"})):Z(Object(u.a)(Object(u.a)({},Y),{},{mobNo:"ok"}))):Z(Object(u.a)(Object(u.a)({},Y),{},{mobNo:"This is a mandatory field"}))}}),Object(h.jsx)("label",{className:O.a.formLabel,children:"Mobile No*"}),"ok"!==Y.mobNo&&Object(h.jsx)("p",{className:O.a.errmsg,children:Y.mobNo})]})]}),Object(h.jsxs)("div",{className:O.a.add,children:[Object(h.jsx)("p",{className:O.a.head,children:"ADDRESS"}),Object(h.jsxs)("div",{className:O.a.details,children:[Object(h.jsx)("input",{type:"text",placeholder:" ",maxlength:"6",required:!0,className:O.a.textBox,onBlur:function(e){return te.apply(this,arguments)}}),Object(h.jsx)("label",{className:O.a.formLabel,children:"Pin Code*"}),"ok"!==Y.pinCode&&Object(h.jsx)("p",{className:O.a.errmsg,children:Y.pinCode})]}),Object(h.jsxs)("div",{className:O.a.details,children:[Object(h.jsx)("input",{type:"text",placeholder:" ",required:!0,className:O.a.textBox,onBlur:function(e){B(e.target.value)}}),Object(h.jsx)("label",{className:O.a.formLabel,children:"Address(House No, Building, Street, Area)*"})]}),Object(h.jsxs)("div",{className:O.a.details,children:[Object(h.jsx)("input",{type:"text",placeholder:" ",required:!0,className:O.a.textBox,onBlur:function(e){E(e.target.value)}}),Object(h.jsx)("label",{className:O.a.formLabel,children:"Locality/Town*"})]}),Object(h.jsxs)("div",{className:O.a.details,children:[Object(h.jsx)("input",{type:"text",placeholder:" ",className:O.a.textBox,onBlur:function(e){M(e.target.value)}}),Object(h.jsx)("label",{className:O.a.formLabel,children:"Landmark (optional)"})]}),Object(h.jsxs)("div",{className:O.a.details,children:[" "===I&&Object(h.jsx)("div",{className:O.a.fixed,children:"City/District*"})," "!==I&&Object(h.jsx)("div",{className:O.a.fixed,children:I})]}),Object(h.jsxs)("div",{className:O.a.details,children:[" "===G&&Object(h.jsx)("div",{className:O.a.fixed,children:"State*"})," "!==G&&Object(h.jsx)("div",{className:O.a.fixed,children:G})]})]}),Object(h.jsx)("button",{type:"submit",value:"Submit",className:O.a.save,children:"ADD ADDRESS"})]})},x=a(126),f=a.n(x),v=a(127),_=a.n(v);var N=function(e){var t=Object(l.b)(),a=Object(d.g)();return Object(h.jsxs)("div",{className:_.a.layout,onClick:function(s){t(b.a.addAddress({name:e.name,mobile:e.mobile,house:e.house,town:e.town,landmark:e.landmark,city:e.city,state:e.state,pin:e.pin})),a("/payment",{replace:!0})},children:[Object(h.jsx)("p",{className:_.a.head,children:"Saved Address"}),Object(h.jsxs)("ul",{className:_.a.address,children:[Object(h.jsx)("li",{children:Object(h.jsx)("b",{children:e.name})}),Object(h.jsx)("li",{children:e.mobile}),Object(h.jsxs)("li",{children:[e.house,","]}),Object(h.jsxs)("li",{children:[e.town,","]}),""!==e.landmark.trim()&&Object(h.jsxs)("li",{children:[e.landmark,","]}),Object(h.jsxs)("li",{children:[e.city,"\xa0",e.state,"\xa0",e.pin]})]})]})};t.default=function(e){var t,a=Object(l.c)((function(e){return e.login.userData})),s=Object(d.g)(),u=Object(i.useState)([]),b=Object(r.a)(u,2),m=b[0],O=b[1];Object(i.useEffect)((function(){document.title="ADDRESS",window.scrollTo(0,0)})),localStorage.getItem("billStore")?0===(t=JSON.parse(localStorage.getItem("billStore"))).tmrp&&s("/",{replace:!0}):s("/",{replace:!0}),Object(i.useEffect)((function(){function e(){return(e=Object(n.a)(c.a.mark((function e(t){var a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/user/history-get",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})});case 2:return a=e.sent,e.next=5,a.json();case 5:s=e.sent,a.ok&&s.address&&O(s.address);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(t){e.apply(this,arguments)}(a.email)}),[a.email]);var x=m.map((function(e){return Object(h.jsx)(N,{name:e.name,mobile:e.mobile,house:e.house,town:e.town,landmark:e.landmark,city:e.city,state:e.state,pin:e.pin},e._id)}));return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{children:Object(h.jsx)(o.a,{value:"add"})}),Object(h.jsxs)("div",{className:f.a.address,children:[Object(h.jsx)("div",{className:f.a.savedAdd,children:x}),Object(h.jsx)("div",{className:f.a.form,children:Object(h.jsx)(p,{})}),Object(h.jsx)(j.a,{tmrp:t[0].tmrp,tdis:t[0].tdis,tdelfee:t[0].tdelfee,amount:t[0].amount,itemQty:t[0].len,value:"info"})]})]})}},78:function(e,t,a){"use strict";a(1);var s=a(79),c=a.n(s),n=a(0);t.a=function(e){return Object(n.jsx)("div",{className:c.a.menu,children:Object(n.jsxs)("ul",{className:c.a.menuList,children:[Object(n.jsx)("li",{className:"bag"===e.value?c.a.active:"",children:"B A G"}),Object(n.jsx)("li",{children:Object(n.jsx)("hr",{className:c.a.line})}),Object(n.jsx)("li",{className:"add"===e.value?c.a.active:"",children:"A D D R E S S"}),Object(n.jsx)("li",{children:Object(n.jsx)("hr",{className:c.a.line})}),Object(n.jsx)("li",{className:"pay"===e.value?c.a.active:"",children:"P A Y M E N T"})]})})}},79:function(e,t,a){e.exports={active:"checkoutMenu_active__jsDOv",line:"checkoutMenu_line__3uD4a",menu:"checkoutMenu_menu__19hE2",menuList:"checkoutMenu_menuList__3CRLH"}},88:function(e,t,a){"use strict";a(1);var s=a(3),c=a(89),n=a.n(c),r=a(0);t.a=function(e){var t=Object(s.g)();return Object(r.jsxs)("div",{className:n.a.cartBill,children:[Object(r.jsxs)("p",{children:["PRICE DETAILS(",e.itemQty," items)"]}),Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:"Total MRP"}),Object(r.jsxs)("li",{children:["\u20b9",e.tmrp]})]}),Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:"Discount on MRP"}),Object(r.jsxs)("li",{children:["-\u20b9",e.tdis]})]}),Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:"Delivery Fee"}),Object(r.jsxs)("li",{children:["\u20b9",e.tdelfee]})]}),Object(r.jsx)("hr",{}),Object(r.jsxs)("ul",{className:n.a.total,children:[Object(r.jsx)("li",{children:"Total Amount"}),Object(r.jsxs)("li",{children:["\u20b9",e.amount]})]}),"bill"===e.value&&Object(r.jsx)("button",{type:"button",className:n.a.proceed,onClick:function(){t("/address",{state:{itemQty:e.itemQty,tmrp:e.tmrp,tdis:e.tdis,tdelfee:e.tdelfee,amount:e.amount}})},children:"PROCEED TO BUY"})]})}},89:function(e,t,a){e.exports={cartBill:"productBillCard_cartBill__1SK8X",proceed:"productBillCard_proceed__2HvSE",total:"productBillCard_total__fW822"}}}]);
//# sourceMappingURL=8.aa27afdd.chunk.js.map