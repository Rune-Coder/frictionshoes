{"version":3,"sources":["pages/profile/myProfile.module.css","pages/profile/profileEdit.module.css","pages/profile/profileEdit.js","pages/profile/myProfile.js","image/sectionLoader.gif","card/notificationCard.js","card/notificationCard.module.css"],"names":["module","exports","ProfileEdit","props","useState","useName","setUseName","useGen","setUseGen","user","setUser","updated","setUpdated","loader","setLoader","navigate","useNavigate","token","GetCookie","event","a","preventDefault","trim","email","fetch","method","headers","body","JSON","stringify","name","gender","res","json","ok","setTimeout","replace","useEffect","Authorization","data","getData","className","classes","layout","loginForm","onSubmit","details","type","placeholder","required","textBox","onBlur","target","value","formLabel","gen","onClick","document","getElementById","checked","id","for","save","src","preloader","load","alt","MyProfile","loginSub","useSelector","state","login","loggedin","userSub","userData","edit","setEdit","title","window","scrollTo","profile","head","accDetails","mobile","NotificationCard","notificationHolder","msg"],"mappings":"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","file":"static/js/13.1e833916.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"accDetails\":\"myProfile_accDetails__3TdFw\",\"head\":\"myProfile_head__11HyY\",\"profile\":\"myProfile_profile__2amH9\",\"save\":\"myProfile_save__1CnHl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"details\":\"profileEdit_details__-8ruk\",\"formLabel\":\"profileEdit_formLabel__YtFdi\",\"gen\":\"profileEdit_gen__3mccT\",\"layout\":\"profileEdit_layout__1-Al0\",\"load\":\"profileEdit_load__3GcMz\",\"save\":\"profileEdit_save__1N5e-\",\"textBox\":\"profileEdit_textBox__2e_AJ\",\"cntryCode\":\"profileEdit_cntryCode__9EEPD\"};","import React, { useState, useEffect } from 'react';\n\nimport { useNavigate } from 'react-router-dom';\nimport { GetCookie } from '../../hooks/cookies';\nimport NotificationCard from '../../card/notificationCard';\nimport preloader from '../../image/sectionLoader.gif';\nimport classes from './profileEdit.module.css';\n\nfunction ProfileEdit(props){\n\n    const [useName, setUseName] = useState(\" \");\n    const [useGen, setUseGen] = useState(\" \");\n    const [user, setUser] = useState({});\n    const [updated, setUpdated] = useState(false);\n    const [loader, setLoader] = useState(false);\n\n    let navigate = useNavigate();\n\n    const token = GetCookie(\"token\");\n\n    useEffect(() =>{\n        \n        async function getData(){\n\n            const res = await fetch(`/api/user/profile`, {\n                method: \"GET\",\n                headers:{\n                    Authorization: `Bearer ${token}`\n                }\n            });\n        \n            const data = await res.json();\n            \n            if(res.ok)\n                setUser(data);\n            else\n                navigate(`/login`, { replace: true });  \n    \n        }\n\n        getData();\n    }, [token]);\n\n    async function profileHandler(event){\n        event.preventDefault();\n        if(useName.trim() === \"\" || useGen.trim() === \"\")\n            return;\n\n        setLoader(true);\n\n        if(user === {})\n            return;\n\n        const email = user.email;\n\n        const res = await fetch(\"/api/user/update-profile\", {\n            method: \"POST\",\n            headers:{\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({ email: email, name: useName, gender: useGen  })\n        });\n    \n        await res.json();\n\n        setLoader(false);\n            \n        if(res.ok){\n            setUpdated(true);\n            setTimeout(function(){ setUpdated(false);}, 3000);\n            setTimeout(function(){ navigate(`/`);}, 3500);\n        }\n        else\n            navigate(`/login`, { replace: true });  \n        return;\n    }\n    function nameHandler(event){\n        setUseName(event.target.value);\n    }\n    function genHandler(event){\n        var gen;\n        if (document.getElementById('gen1').checked) {\n            gen = document.getElementById('gen1').value;\n            setUseGen(gen);\n        }\n        else if (document.getElementById('gen2').checked) {\n            gen = document.getElementById('gen2').value;\n            setUseGen(gen);\n        }\n    }\n\n    return (\n        <div className={classes.layout}>\n            <form className={classes.loginForm} onSubmit = {profileHandler}>\n                <div className={classes.details}>\n                    <input \n                        type= \"text\" \n                        placeholder=' ' \n                        required \n                        className={classes.textBox}\n                        onBlur = {nameHandler}>\n                    </input>\n                    <label className={classes.formLabel}>\n                       Full Name*\n                    </label>\n                </div>\n                <div className={classes.gen} onClick = {genHandler}>\n                    <p>Select Gender:&nbsp;</p>\n                    <input type=\"radio\" id= \"gen1\" name=\"gender\" value=\"Female\" required>\n                    </input>\n                    <label for=\"gen1\">Female</label>\n                    <input type=\"radio\" id= \"gen2\" name=\"gender\" value=\"Male\" required>\n                    </input>\n                    <label for=\"gen2\">Male</label>\n                </div>\n\n                <button type= \"submit\" value=\"Submit\" className={classes.save}>SAVE</button>\n\n            </form>\n            {updated && <NotificationCard value = {\"Profile Updated Successfully\"} />}\n            {loader && <img src = {preloader} className={classes.load} alt = \"Loading...\"></img>}\n        </div>\n    );\n}\n\nexport default ProfileEdit;","import React, { useState, useEffect } from 'react';\n\nimport { useSelector } from 'react-redux';\n\nimport classes from './myProfile.module.css';\nimport ProfileEdit from './profileEdit';\n\nfunction MyProfile(props){\n\n    const loginSub = useSelector((state) => state.login.loggedin);\n    const userSub = useSelector((state) => state.login.userData);\n    const [edit, setEdit] = useState(false);\n\n    \n    useEffect(() => {\n        document.title = 'Profile';\n        window.scrollTo(0, 0);\n    });\n\n    function toEdit(event){\n        if(edit)\n            setEdit(false);\n        else\n            setEdit(true);\n        return;\n    }\n    return (\n        <div className={classes.profile}>\n            {!edit && <div>\n                <p className={classes.head}>Profile Details</p>\n                <div className={classes.accDetails}>\n                    <div>Full Name</div>\n                    {loginSub && <div>{userSub.name}</div>}\n                    {!loginSub && <div>- not added -</div>}\n\n                    <div>Mobile Number</div>\n                    {loginSub && <div>{userSub.mobile}</div>}\n                    {!loginSub && <div>- not added -</div>}\n\n                    <div>Email ID</div>\n                    {loginSub && <div>{userSub.email}</div>}\n                    {!loginSub && <div>- not added -</div>}\n\n                    <div>Gender</div>\n                    {loginSub && <div>{userSub.gender}</div>}\n                    {!loginSub && <div>- not added -</div>}\n                </div>\n                <button type= \"button\" onClick = {toEdit} className={classes.save}>EDIT</button>\n            </div>}\n            {edit && <ProfileEdit />}\n        </div>\n    );\n}\n\nexport default MyProfile;","export default __webpack_public_path__ + \"static/media/sectionLoader.f418ba14.gif\";","import React from 'react';\n\nimport classes from './notificationCard.module.css';\n\nfunction NotificationCard(props){\n\n    return(\n        <div className={classes.notificationHolder}>\n        <div className={classes.layout}>\n            <p className={classes.msg}>{props.value}</p>\n        </div>  \n        </div>\n    );\n}\n\nexport default NotificationCard","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout\":\"notificationCard_layout__1CJR0\",\"notificationHolder\":\"notificationCard_notificationHolder__3kfqx\"};"],"sourceRoot":""}