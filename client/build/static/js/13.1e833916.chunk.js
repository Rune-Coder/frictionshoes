(this.webpackJsonpreact_sample_1=this.webpackJsonpreact_sample_1||[]).push([[13],{105:function(e,t,a){e.exports={accDetails:"myProfile_accDetails__3TdFw",head:"myProfile_head__11HyY",profile:"myProfile_profile__2amH9",save:"myProfile_save__1CnHl"}},106:function(e,t,a){e.exports={details:"profileEdit_details__-8ruk",formLabel:"profileEdit_formLabel__YtFdi",gen:"profileEdit_gen__3mccT",layout:"profileEdit_layout__1-Al0",load:"profileEdit_load__3GcMz",save:"profileEdit_save__1N5e-",textBox:"profileEdit_textBox__2e_AJ",cntryCode:"profileEdit_cntryCode__9EEPD"}},150:function(e,t,a){"use strict";a.r(t);var n=a(4),c=a(1),i=a(12),r=a(105),s=a.n(r),l=a(19),o=a.n(l),d=a(23),u=a(3),j=a(22),b=a(70),f=a(66),m=a(106),p=a.n(m),O=a(0);var x=function(e){var t=Object(c.useState)(" "),a=Object(n.a)(t,2),i=a[0],r=a[1],s=Object(c.useState)(" "),l=Object(n.a)(s,2),m=l[0],x=l[1],h=Object(c.useState)({}),_=Object(n.a)(h,2),v=_[0],g=_[1],y=Object(c.useState)(!1),E=Object(n.a)(y,2),N=E[0],k=E[1],S=Object(c.useState)(!1),w=Object(n.a)(S,2),B=w[0],C=w[1],D=Object(u.g)(),P=Object(j.a)("token");function T(){return(T=Object(d.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==i.trim()&&""!==m.trim()){e.next=3;break}return e.abrupt("return");case 3:if(C(!0),v!=={}){e.next=6;break}return e.abrupt("return");case 6:return a=v.email,e.next=9,fetch("/api/user/update-profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,name:i,gender:m})});case 9:return n=e.sent,e.next=12,n.json();case 12:return C(!1),n.ok?(k(!0),setTimeout((function(){k(!1)}),3e3),setTimeout((function(){D("/")}),3500)):D("/login",{replace:!0}),e.abrupt("return");case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){function e(){return(e=Object(d.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/user/profile",{method:"GET",headers:{Authorization:"Bearer ".concat(P)}});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,t.ok?g(a):D("/login",{replace:!0});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[P]),Object(O.jsxs)("div",{className:p.a.layout,children:[Object(O.jsxs)("form",{className:p.a.loginForm,onSubmit:function(e){return T.apply(this,arguments)},children:[Object(O.jsxs)("div",{className:p.a.details,children:[Object(O.jsx)("input",{type:"text",placeholder:" ",required:!0,className:p.a.textBox,onBlur:function(e){r(e.target.value)}}),Object(O.jsx)("label",{className:p.a.formLabel,children:"Full Name*"})]}),Object(O.jsxs)("div",{className:p.a.gen,onClick:function(e){var t;document.getElementById("gen1").checked?(t=document.getElementById("gen1").value,x(t)):document.getElementById("gen2").checked&&(t=document.getElementById("gen2").value,x(t))},children:[Object(O.jsx)("p",{children:"Select Gender:\xa0"}),Object(O.jsx)("input",{type:"radio",id:"gen1",name:"gender",value:"Female",required:!0}),Object(O.jsx)("label",{for:"gen1",children:"Female"}),Object(O.jsx)("input",{type:"radio",id:"gen2",name:"gender",value:"Male",required:!0}),Object(O.jsx)("label",{for:"gen2",children:"Male"})]}),Object(O.jsx)("button",{type:"submit",value:"Submit",className:p.a.save,children:"SAVE"})]}),N&&Object(O.jsx)(b.a,{value:"Profile Updated Successfully"}),B&&Object(O.jsx)("img",{src:f.a,className:p.a.load,alt:"Loading..."})]})};t.default=function(e){var t=Object(i.c)((function(e){return e.login.loggedin})),a=Object(i.c)((function(e){return e.login.userData})),r=Object(c.useState)(!1),l=Object(n.a)(r,2),o=l[0],d=l[1];return Object(c.useEffect)((function(){document.title="Profile",window.scrollTo(0,0)})),Object(O.jsxs)("div",{className:s.a.profile,children:[!o&&Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{className:s.a.head,children:"Profile Details"}),Object(O.jsxs)("div",{className:s.a.accDetails,children:[Object(O.jsx)("div",{children:"Full Name"}),t&&Object(O.jsx)("div",{children:a.name}),!t&&Object(O.jsx)("div",{children:"- not added -"}),Object(O.jsx)("div",{children:"Mobile Number"}),t&&Object(O.jsx)("div",{children:a.mobile}),!t&&Object(O.jsx)("div",{children:"- not added -"}),Object(O.jsx)("div",{children:"Email ID"}),t&&Object(O.jsx)("div",{children:a.email}),!t&&Object(O.jsx)("div",{children:"- not added -"}),Object(O.jsx)("div",{children:"Gender"}),t&&Object(O.jsx)("div",{children:a.gender}),!t&&Object(O.jsx)("div",{children:"- not added -"})]}),Object(O.jsx)("button",{type:"button",onClick:function(e){d(!o)},className:s.a.save,children:"EDIT"})]}),o&&Object(O.jsx)(x,{})]})}},66:function(e,t,a){"use strict";t.a=a.p+"static/media/sectionLoader.f418ba14.gif"},70:function(e,t,a){"use strict";a(1);var n=a(71),c=a.n(n),i=a(0);t.a=function(e){return Object(i.jsx)("div",{className:c.a.notificationHolder,children:Object(i.jsx)("div",{className:c.a.layout,children:Object(i.jsx)("p",{className:c.a.msg,children:e.value})})})}},71:function(e,t,a){e.exports={layout:"notificationCard_layout__1CJR0",notificationHolder:"notificationCard_notificationHolder__3kfqx"}}}]);
//# sourceMappingURL=13.1e833916.chunk.js.map